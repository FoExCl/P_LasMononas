{% extends 'base.html' %}
{% load static %}

{% block content %}
{% include 'navbar.html' %}

<style>
    body {
        font-family: 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
        background-color: #f8fafc;
        background:
            radial-gradient(circle, transparent 2px, #fbe9f0 2px, #fbe9f0 4px, transparent 4px),
            radial-gradient(circle, transparent 2px, #fbe9f0 2px, #fbe9f0 4px, transparent 4px),
            radial-gradient(circle, transparent 2px, #fbe9f0 2px, #fbe9f0 4px, transparent 4px),
            radial-gradient(circle, transparent 2px, #fbe9f0 2px, #fbe9f0 4px, transparent 4px),
            linear-gradient(to bottom right, #f8c9e0 0%, #fefcfd 100%);
        background-size: 20px 20px, 20px 20px, 20px 20px, 20px 20px, 100% 100%;
        background-position: 50% 0, 50% 100%, 0 50%, 100% 50%, 0 0;
        min-height: 100vh;
        margin: 0;
        overflow-x: hidden;
    }
    .container-box {
        background-color: white;
        color: #be185d;
        border: 1px solid #ccc;
        padding: 15px;
        border-radius: 8px;
        box-shadow: 0 2px 4px;
        margin-bottom: 15px;
        width: 100%;
        max-width: 1200px;
    }
    .title-box {
        background-color: white;
        color: #be185d;
        border: 1px solid #ccc;
        padding: 20px;
        border-radius: 8px;
        text-align: center;
        margin-bottom: 20px;
        box-shadow: 0 2px 4px;
        margin: 20px auto;
        width: 90%;
        max-width: 600px;
    }
    .btn-primary, .btn-secondary {
        background-color: #be185d !important;
        border-color: #a31450 !important;
        color: white !important;
    }
    .btn-primary:hover, .btn-secondary:hover {
        background-color: #a31450 !important;
        border-color: #7f0f3c !important;
    }
    .btn-primary:focus, .btn-secondary:focus {
        box-shadow: none !important;
    }
</style>

<div class="container mt-4">
    <div class="title-box">
        <h1>Listado de Cajas</h1>
    </div>
    <div class="mb-3">
        <a href="{% url 'crear_caja' %}" class="btn btn-primary">
            ‚ûï Nueva Caja
        </a>
    </div>

    <div class="table-responsive container-box">
        <table id="tablaCajas" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Sucursal</th>
                    <th>Ubicaci√≥n</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                {% for caja in cajas %}
                <tr>
                    <td>{{ caja.id_caja }}</td>
                    <td>{{ caja.id_sucursal.nombre_sucursal }}</td>
                    <td>{{ caja.ubicacion }}</td>
                    <td>{{ caja.estado }}</td>
                    <td>
                        <a href="{% url 'editar_caja' caja.id_caja %}" class="btn btn-sm btn-warning">
                            ‚úèÔ∏è Editar
                        </a>
                        <a href="{% url 'eliminar_caja' caja.id_caja %}" class="btn btn-sm btn-danger">
                            üóëÔ∏è Eliminar
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<!-- JS de Bootstrap -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<!-- JS de DataTables -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/v/bs5/jq-3.7.0/jszip-3.10.1/dt-2.1.8/af-2.7.0/b-3.2.0/b-colvis-3.2.0/b-html5-3.2.0/b-print-3.2.0/cr-2.0.4/date-1.5.4/fc-5.0.4/fh-4.0.1/kt-2.12.1/r-3.0.3/rg-1.5.1/rr-1.5.0/sc-2.4.3/sb-1.8.1/sp-2.3.3/sl-2.1.0/sr-1.4.1/datatables.min.js"></script>

<script>
    $(document).ready(function() {
        $('#tablaCajas').DataTable({
            "language": {
                "url": 'https://cdn.datatables.net/plug-ins/1.11.5/i18n/es-ES.json'
                }
        });
    });
</script>
{% endblock %}
